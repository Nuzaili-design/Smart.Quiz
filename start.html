<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <title>Science Quiz</title>
    <style>
        body {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .quiz-container {
            background-color: rgb(255, 255, 255);
            color: #333;
            padding: 30px;
            margin: auto;
            margin-top: 50px;
            box-shadow: 0px 0px 10px rgb(0, 0, 0);
            max-width: 600px;
            border-radius: 10px;
        }

        .question {
            margin-bottom: 20px;
        }

        .btn-submit {
            margin-top: 20px;
        }

        .alert {
            display: none;
        }

        #timer {
            font-weight: bold;
            margin-bottom: 20px;
        }

        textarea {
            resize: none;
        }

        .btn-dark:hover {
            background-color: #555;
            border-color: #555;
        }
    </style>
</head>

<body>

<div class="container quiz-container">
    <h2 class="text-center">Science Quiz Questions</h2>
    <div id="timer" class="text-center">Time Remaining: 2:00</div> <!-- Timer Display -->
    <form id="quizForm">

        
        <!-- Quiz Questions -->
        <div class="question mb-3">
            <label>Question 1: What is the correct definition of Software Quality?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question1" value="Computer programs associated with documentation and data related to operating system." required>
                <label class="form-check-label">Computer programs associated with documentation and data related to operating system.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question1" value="Customer and Developer less communication.">
                <label class="form-check-label">Customer and Developer less communication.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question1" value="Conformance to requirements both functional and non-functional requirements.">
                <label class="form-check-label">Conformance to requirements both functional and non-functional requirements.</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 2: Software Quality should be considered in:</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question2" value="Contract" required>
                <label class="form-check-label">Contract</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question2" value="Management">
                <label class="form-check-label">Management</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question2" value="Both Contract and management">
                <label class="form-check-label">Both Contract and management</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 3: What are the three product revision factors?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question3" value="Maintainability,Portability,Reusability" required>
                <label class="form-check-label">Maintainability,Portability,Reusability</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question3" value="Maintainability,Flexibility,Usability">
                <label class="form-check-label">Maintainability,Flexibility,Usability</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question3" value="Maintainability,Flexibility,Testability">
                <label class="form-check-label">Maintainability,Flexibility,Testability</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 4: Which of the following is a Quality characteristic?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question4" value="Functionality" required>
                <label class="form-check-label">Functionality</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question4" value="Availability">
                <label class="form-check-label">Availability</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question4" value="2000">
                <label class="form-check-label">Agility</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 5: Product Operation Factors are:</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question5" value="Correctness,Reliability,Integrity" required>
                <label class="form-check-label">Correctness,Reliability,Integrity</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question5" value="Maintainability,Portability,Interoperability">
                <label class="form-check-label">Maintainability,Portability,Interoperability</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question5" value="Verifiability,Manageability,Survivability">
                <label class="form-check-label">Verifiability,Manageability,Survivability</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 6: Which of the following is NOT a human component involved in organizing for SQA (Software Quality Assurance)?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question6" value="The SQA unit" required>
                <label class="form-check-label">The SQA unit</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question6" value="SQA trustees">
                <label class="form-check-label">SQA trustees</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question6" value="SQA frameworks">
                <label class="form-check-label">SQA frameworks</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 7: Who is responsible for performing a contract review?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question7" value="The marketing team" required>
                <label class="form-check-label">The marketing team</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question7" value="Clients">
                <label class="form-check-label">Clients</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question7" value="the leader or another member of the proposal team">
                <label class="form-check-label">the leader or another member of the proposal team</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 8: Which of the following is a recommended avenue for implementing a major contract review?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question8" value="The review should be scheduled" required>
                <label class="form-check-label">The review should be scheduled</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question8" value="The contract should be signed before the review.">
                <label class="form-check-label">The contract should be signed before the review.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question8" value="The review should be conducted by a single individual.">
                <label class="form-check-label">The review should be conducted by a single individual.</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 9: Which of the following is an objective of a proposal draft review?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question9" value="Initial software testing completed." required>
                <label class="form-check-label">Initial software testing completed.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question9" value="Customer requirements clarified and documented.">
                <label class="form-check-label">Customer requirements clarified and documented.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question9" value="Marketing strategies finalized.">
                <label class="form-check-label">Marketing strategies finalized.</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <div class="question mb-3">
            <label>Question 10: Which of the following is a common cause of software errors?</label><br>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question10" value="Optimal client-developer communication." required>
                <label class="form-check-label">Optimal client-developer communication.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question10" value="Rigorous compliance with coding instructions.">
                <label class="form-check-label">Rigorous compliance with coding instructions.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="question10" value=" Faulty requirements definition.">
                <label class="form-check-label">Faulty requirements definition.</label>
            </div>
            <div class="alert alert-danger" role="alert">Please answer this question.</div>
        </div>

        <!-- More Questions... -->

        <!-- User Information Form  -->

        <div class="mb-3">
            <label for="userName" class="form-label">Name:</label>
            <input type="text" class="form-control" id="userName" name="Name" required>
        </div>
        <div class="mb-3">
            <label for="userEmail" class="form-label">Email:</label>
            <input type="email" class="form-control" id="userEmail" name="Email" required>
        </div>
        <div class="mb-3">
            <label for="quizScore" class="form-label">Quiz score will be shown as soon as you click submit:</label>
            <textarea class="form-control" id="quizScore" name="Message" rows="2" readonly></textarea>
        </div>

        <button type="submit" class="btn btn-dark btn-submit">Submit Quiz</button>
    </form>
    <span id="msg"></span>
</div>

<script>

// Timer Functionality
const totalTime = 4 * 60; // 4 minutes in seconds

let timeLeft = totalTime;

function updateTimer() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    document.getElementById('timer').textContent = `Time Remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    timeLeft--;

    if (timeLeft < 0) {
        clearInterval(timerInterval);
        alert("Time's up!");
        submitQuiz();
    }
}

const timerInterval = setInterval(updateTimer, 1000);



    // Form Validation and Submission
    document.getElementById("quizForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the default form submission

        let valid = true;
        const questions = document.querySelectorAll(".question");

        // Validate if each question is answered
        questions.forEach((question) => {
            const alert = question.querySelector(".alert");
            const options = question.querySelectorAll("input[type='radio']");
            let answered = false;
            options.forEach(option => {
                if (option.checked) {
                    answered = true;
                }
            });
            if (!answered) {
                valid = false;
                alert.style.display = "block";
            } else {
                alert.style.display = "none";
            }
        });

        if (valid) {
            submitQuiz();
        } else {
            alert("Please answer all questions before submitting.");
        }
    });

    function submitQuiz() {
        // Calculate score
        let score = 0;
        const correctAnswers = {
            question1: "Conformance to requirements both functional and non-functional requirements.",
            question2: "Contract",
            question3: "Maintainability,Flexibility,Testability",
            question4: "Functionality",
            question5: "Correctness,Reliability,Integrity",
            question6: "SQA frameworks",
            question7: "the leader or another member of the proposal team",
            question8: "The review should be scheduled",
            question9: "Customer requirements clarified and documented.",
            question10: "Faulty requirements definition."
        };

        // Check answers and calculate score
        for (let i = 1; i <= 10; i++) {
            const questionName = `question${i}`;
            if (document.querySelector(`input[name="${questionName}"]:checked`) &&
                document.querySelector(`input[name="${questionName}"]:checked`).value === correctAnswers[questionName]) {
                score++;
            }
        }

        // Get current date and time
        const currentDate = new Date();
        const submissionTime = currentDate.toLocaleString(); // Format: 'MM/DD/YYYY, HH:MM:SS AM/PM'

        // Store the score and time in localStorage (optional)
        localStorage.setItem("quizScore", score);
        localStorage.setItem("submissionTime", submissionTime);

        // Display score and time in the readonly textarea
        document.getElementById('quizScore').value = `Your quiz score is: ${score}/10. Submitted at: ${submissionTime}`;

        // Submit the form data to Google Sheets
        const form = document.forms['quizForm'];
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzSLWMP4KpbxlzdMRiIqQ8TmDbmrPP3bvRhvplwiEDAR6Baw9vCIe9bKHEzjxhKwT9_cQ/exec';
        const msg = document.getElementById("msg");

        // Add submission time to the form data
        const formData = new FormData(form);
        formData.append('SubmissionTime', submissionTime);

        fetch(scriptURL, { method: 'POST', body: formData })
            .then(response => {
                msg.innerHTML = "Quiz submitted successfully!";
                setTimeout(function () {
                    msg.innerHTML = "";
                    form.reset();
                    clearInterval(timerInterval); // Stop the timer after submission
                    // Redirect to the goodbye page (result.html)
                    window.location.href = "result.html";
                }, 3000);
            })
            .catch(error => console.error('Error!', error.message));
    }
    
</script>

</body>
</html>
